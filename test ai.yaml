mixed-port: 10809
allow-lan: true
bind-address: "*"
mode: rule
log-level: info
ipv6: true

dns:
  enable: true
  listen: 127.0.0.1:1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 8.8.8.8
    - 1.1.1.1
    - 112.215.203.254

bug:
  - &video_1 quiz.staging.vidio.com
  - &video_2 img.email3.vidio.com
  - &video_3 quiz.vidio.com
  - &video_4 quiz.int.vidio.com

line: &line
  type: select
  proxies:
    - Select
    - Auto
    - Load Balance
    - Iklan

proxy: &proxy
  proxies:
    - "[VMess] sshocean-ikocok-ws"
    - "[VMess] ikocok-vpnjantit.com"
    - "[VMess] Vmess Singapore HE-1 Limit 2024-06-01"
    - "[VMess] sshocean-ikozu-ws"
select: &select
  type: select
  <<: *proxy

auto: &auto
  type: url-test
  <<: *proxy
  url: 'https://clients3.google.com'
  interval: 300

lb: &lb
  type: load-balance
  <<: *proxy
  url: 'https://clients3.google.com'
  interval: 300
  strategy: consistent-hashing # atau round-robin

proxies:
  - name: "[VMess] sshocean-ikocok-ws"
    server: quiz.staging.vidio.com
    port: 80
    type: vmess
    uuid: f17e67aa-0440-4df9-9a21-7dfe0b233bc3
    alterId: 0
    cipher: auto
    tls: true
    skip-cert-verify: true
    servername: id2.v2vmess.site
    network: ws
    ws-opts:
      path: /vmess
      headers:
        Host: id2.v2vmess.site
    udp: true
  - name: "[VMess] ikocok-vpnjantit.com"
    server: quiz.staging.vidio.com
    port: 10000
    type: vmess
    uuid: b1dbb2ec-1a18-11ef-b80c-00163e03cffa
    alterId: 0
    cipher: auto
    tls: false
    skip-cert-verify: true
    servername: indo2.vpnjantit.com
    network: ws
    ws-opts:
      path: /vpnjantit
      headers:
        Host: indo2.vpnjantit.com
    udp: true
  - name: "[VMess] Vmess Singapore HE-1 Limit 2024-06-01"
    server: quiz.staging.vidio.com
    port: 80
    type: vmess
    uuid: 21d6f760-1a19-11ef-b336-205c6d5f5d78
    alterId: 0
    cipher: auto
    tls: false
    skip-cert-verify: true
    servername: sg-1.hihu.net
    network: ws
    ws-opts:
      path: /wufjvyi8
      headers:
        Host: sg-1.hihu.net
    udp: true
  - name: "[VMess] sshocean-ikozu-ws"
    server: quiz.staging.vidio.com
    port: 443
    type: vmess
    uuid: 41e05fe4-bd62-43fe-8194-382be9771cb3
    alterId: 0
    cipher: auto
    tls: true
    skip-cert-verify: true
    servername: sg3.v2vmess.site
    network: ws
    ws-opts:
      path: /vmess
      headers:
        Host: sg3.v2vmess.site
    udp: true

proxy-groups:
  - name: Proxy
    <<: *line
  - name: Iklan
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: Select
    <<: *select
  - name: Auto
    <<: *auto
  - name: Load Balance
    <<: *lb

rule-providers:
  adblock:
    type: http
    behavior: classical
    path: ./adblock.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Classical_No_Resolve.yaml"
    interval: 600

rules:
  - RULE-SET,adblock,Iklan
  - MATCH,Proxy
